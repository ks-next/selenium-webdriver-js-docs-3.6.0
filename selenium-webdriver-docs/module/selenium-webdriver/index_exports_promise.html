<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>selenium-webdriver.promise</title><link href="../../dossier.css" rel="stylesheet" type="text/css"><script src="../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="dossier-main"><main data-page-data="[null,[[[&quot;promise&quot;,null,null,null,[null,693,null,[null,null,&quot;index.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/index.js#L693&quot;]],null,[[[null,&quot;&lt;blockquote&gt;\n&lt;h3&gt;IMPORTANT NOTICE&lt;/h3&gt;\n&lt;p&gt;The promise manager contained in this module is in the process of being\nphased out in favor of native JavaScript promises. This will be a long\nprocess and will not be completed until there have been two major LTS Node\nreleases (approx. Node v10.0) that support\n&lt;a href=\&quot;https://tc39.github.io/ecmascript-asyncawait/\&quot;&gt;async functions&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;At this time, the promise manager can be disabled by setting an environment\nvariable, &lt;code&gt;SELENIUM_PROMISE_MANAGER&amp;#61;0&lt;/code&gt;. In the absence of async functions,\nusers may use generators with the\n&lt;a href=\&quot;lib/promise.html#consume\&quot;&gt;&lt;code&gt;promise.consume()&lt;/code&gt;&lt;/a&gt; function to write &amp;#34;synchronous&amp;#34;\nstyle tests:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;const {Builder, By, Key, promise, until} &amp;#61; require(&amp;#39;selenium-webdriver&amp;#39;);\n\nlet result &amp;#61; promise.consume(function* doGoogleSearch() {\n  let driver &amp;#61; new Builder().forBrowser(&amp;#39;firefox&amp;#39;).build();\n  yield driver.get(&amp;#39;http://www.google.com/ncr&amp;#39;);\n  yield driver.findElement(By.name(&amp;#39;q&amp;#39;)).sendKeys(&amp;#39;webdriver&amp;#39;, Key.RETURN);\n  yield driver.wait(until.titleIs(&amp;#39;webdriver - Google Search&amp;#39;), 1000);\n  yield driver.quit();\n});\n\nresult.then(_ &amp;#61;&amp;gt; console.log(&amp;#39;SUCCESS!&amp;#39;),\n            e &amp;#61;&amp;gt; console.error(&amp;#39;FAILURE: &amp;#39; &amp;#43; e));\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The motivation behind this change and full deprecation plan are documented\nin &lt;a href=\&quot;https://github.com/SeleniumHQ/selenium/issues/2969\&quot;&gt;issue 2969&lt;/a&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;The promise module is centered around the &lt;a href=\&quot;lib/promise_exports_ControlFlow.html\&quot;&gt;ControlFlow&lt;/a&gt;, a class\nthat coordinates the execution of asynchronous tasks. The ControlFlow allows\nusers to focus on the imperative commands for their script without worrying\nabout chaining together every single asynchronous action, which can be\ntedious and verbose. APIs may be layered on top of the control flow to read\nas if they were synchronous. For instance, the core\n&lt;a href=\&quot;lib/webdriver_exports_WebDriver.html\&quot;&gt;WebDriver&lt;/a&gt; API is built on top of the\ncontrol flow, allowing users to write&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; driver.get(&amp;#39;http://www.google.com/ncr&amp;#39;);\n driver.findElement({name: &amp;#39;q&amp;#39;}).sendKeys(&amp;#39;webdriver&amp;#39;, Key.RETURN);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;instead of&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; driver.get(&amp;#39;http://www.google.com/ncr&amp;#39;)\n .then(function() {\n   return driver.findElement({name: &amp;#39;q&amp;#39;});\n })\n .then(function(q) {\n   return q.sendKeys(&amp;#39;webdriver&amp;#39;, Key.RETURN);\n });\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Tasks and Task Queues&lt;/h2&gt;\n&lt;p&gt;The control flow is based on the concept of tasks and task queues. Tasks are\nfunctions that define the basic unit of work for the control flow to execute.\nEach task is scheduled via &lt;a href=\&quot;lib/promise_exports_ControlFlow.html#execute\&quot;&gt;&lt;code&gt;ControlFlow#execute()&lt;/code&gt;&lt;/a&gt;, which will return\na &lt;a href=\&quot;lib/promise_exports_Promise.html\&quot;&gt;&lt;code&gt;ManagedPromise&lt;/code&gt;&lt;/a&gt; that will be resolved with the task&amp;#39;s result.&lt;/p&gt;\n&lt;p&gt;A task queue contains all of the tasks scheduled within a single turn of the\n&lt;a href=\&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\&quot;&gt;JavaScript event loop&lt;/a&gt;. The control flow will create a new task queue\nthe first time a task is scheduled within an event loop.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var flow &amp;#61; promise.controlFlow();\n flow.execute(foo);       // Creates a new task queue and inserts foo.\n flow.execute(bar);       // Inserts bar into the same queue as foo.\n setTimeout(function() {\n   flow.execute(baz);     // Creates a new task queue and inserts baz.\n }, 0);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Whenever the control flow creates a new task queue, it will automatically\nbegin executing tasks in the next available turn of the event loop. This\nexecution is &lt;a href=\&quot;https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\&quot;&gt;scheduled as a microtask&lt;/a&gt; like e.g. a\n(native) &lt;code&gt;Promise.then()&lt;/code&gt; callback.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; setTimeout(() &amp;#61;&amp;gt; console.log(&amp;#39;a&amp;#39;));\n Promise.resolve().then(() &amp;#61;&amp;gt; console.log(&amp;#39;b&amp;#39;));  // A native promise.\n flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;c&amp;#39;));\n Promise.resolve().then(() &amp;#61;&amp;gt; console.log(&amp;#39;d&amp;#39;));\n setTimeout(() &amp;#61;&amp;gt; console.log(&amp;#39;fin&amp;#39;));\n // b\n // c\n // d\n // a\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In the example above, b/c/d is logged before a/fin because native promises\nand this module use &amp;#34;microtask&amp;#34; timers, which have a higher priority than\n&amp;#34;macrotasks&amp;#34; like &lt;code&gt;setTimeout&lt;/code&gt;.&lt;/p&gt;\n&lt;h2&gt;Task Execution&lt;/h2&gt;\n&lt;p&gt;Upon creating a task queue, and whenever an existing queue completes a task,\nthe control flow will schedule a microtask timer to process any scheduled\ntasks. This ensures no task is ever started within the same turn of the\nJavaScript event loop in which it was scheduled, nor is a task ever started\nwithin the same turn that another finishes.&lt;/p&gt;\n&lt;p&gt;When the execution timer fires, a single task will be dequeued and executed.\nThere are several important events that may occur while executing a task\nfunction:&lt;/p&gt;\n&lt;ol&gt;&lt;li&gt;A new task queue is created by a call to &lt;a href=\&quot;lib/promise_exports_ControlFlow.html#execute\&quot;&gt;&lt;code&gt;ControlFlow#execute()&lt;/code&gt;&lt;/a&gt;.\nAny tasks scheduled within this task queue are considered subtasks of the\ncurrent task.&lt;/li&gt;&lt;li&gt;The task function throws an error. Any scheduled tasks are immediately\ndiscarded and the task&amp;#39;s promised result (previously returned by\n&lt;a href=\&quot;lib/promise_exports_ControlFlow.html#execute\&quot;&gt;&lt;code&gt;ControlFlow#execute()&lt;/code&gt;&lt;/a&gt;) is immediately rejected with the thrown\nerror.&lt;/li&gt;&lt;li&gt;The task function returns successfully.&lt;/li&gt;&lt;/ol&gt;\n&lt;p&gt;If a task function created a new task queue, the control flow will wait for\nthat queue to complete before processing the task result. If the queue\ncompletes without error, the flow will settle the task&amp;#39;s promise with the\nvalue originally returned by the task function. On the other hand, if the task\nqueue terminates with an error, the task&amp;#39;s promise will be rejected with that\nerror.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function() {\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;a&amp;#39;));\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;b&amp;#39;));\n });\n flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;c&amp;#39;));\n // a\n // b\n // c\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;ManagedPromise Integration&lt;/h2&gt;\n&lt;p&gt;In addition to the &lt;a href=\&quot;lib/promise_exports_ControlFlow.html\&quot;&gt;&lt;code&gt;ControlFlow&lt;/code&gt;&lt;/a&gt; class, the promise module also exports\na &lt;a href=\&quot;https://promisesaplus.com/\&quot;&gt;Promises/A&amp;#43;&lt;/a&gt; &lt;a href=\&quot;lib/promise_exports_Promise.html\&quot;&gt;implementation&lt;/a&gt; that is deeply\nintegrated with the ControlFlow. First and foremost, each promise\n&lt;a href=\&quot;lib/promise_exports_Promise.html#then\&quot;&gt;callback&lt;/a&gt; is scheduled with the\ncontrol flow as a task. As a result, each callback is invoked in its own turn\nof the JavaScript event loop with its own task queue. If any tasks are\nscheduled within a callback, the callback&amp;#39;s promised result will not be\nsettled until the task queue has completed.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; promise.fulfilled().then(function() {\n   flow.execute(function() {\n     console.log(&amp;#39;b&amp;#39;);\n   });\n }).then(() &amp;#61;&amp;gt; console.log(&amp;#39;a&amp;#39;));\n // b\n // a\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Scheduling ManagedPromise Callbacks &lt;a id=\&quot;scheduling_callbacks\&quot;&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;How callbacks are scheduled in the control flow depends on when they are\nattached to the promise. Callbacks attached to a &lt;em&gt;previously&lt;/em&gt; resolved\npromise are immediately enqueued as subtasks of the currently running task.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var p &amp;#61; promise.fulfilled();\n flow.execute(function() {\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;));\n   p.then(      () &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;));\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n   p.then(      () &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;));\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // A\n // B\n // C\n // D\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When a promise is resolved while a task function is on the call stack, any\ncallbacks also registered in that stack frame are scheduled as if the promise\nwere already resolved:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var d &amp;#61; promise.defer();\n flow.execute(function() {\n   flow.execute(  () &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;));\n   d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;));\n   flow.execute(  () &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n   d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;));\n\n   d.fulfill();\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // A\n // B\n // C\n // D\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Callbacks attached to an &lt;em&gt;unresolved&lt;/em&gt; promise within a task function are\nonly weakly scheduled as subtasks and will be dropped if they reach the\nfront of the queue before the promise is resolved. In the example below, the\ncallbacks for &lt;code&gt;B&lt;/code&gt; &amp;amp; &lt;code&gt;D&lt;/code&gt; are dropped as sub-tasks since they are attached to\nan unresolved promise when they reach the front of the task queue.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var d &amp;#61; promise.defer();\n flow.execute(function() {\n   flow.execute(  () &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;));\n   d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;));\n   flow.execute(  () &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n   d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;));\n\n   setTimeout(d.fulfill, 20);\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;)\n });\n // A\n // C\n // fin\n // B\n // D\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If a promise is resolved while a task function is on the call stack, any\npreviously registered and unqueued callbacks (i.e. either attached while no\ntask was on the call stack, or previously dropped as described above) act as\n&lt;em&gt;interrupts&lt;/em&gt; and are inserted at the front of the task queue. If multiple\npromises are fulfilled, their interrupts are enqueued in the order the\npromises are resolved.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var d1 &amp;#61; promise.defer();\n d1.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;));\n\n var d2 &amp;#61; promise.defer();\n d2.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;));\n\n flow.execute(function() {\n   d1.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;));\n });\n flow.execute(function() {\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;E&amp;#39;));\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;F&amp;#39;));\n   d1.fulfill();\n   d2.fulfill();\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // D\n // A\n // C\n // B\n // E\n // F\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Within a task function (or callback), each step of a promise chain acts as\nan interrupt on the task queue:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var d &amp;#61; promise.defer();\n flow.execute(function() {\n   d.promise.\n       then(() &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;)).\n       then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;)).\n       then(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;)).\n       then(() &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;));\n\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;E&amp;#39;));\n   d.fulfill();\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // A\n // B\n // C\n // D\n // E\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If there are multiple promise chains derived from a single promise, they are\nprocessed in the order created:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var d &amp;#61; promise.defer();\n flow.execute(function() {\n   var chain &amp;#61; d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;));\n\n   chain.then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;)).\n       then(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n\n   chain.then(() &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;)).\n       then(() &amp;#61;&amp;gt; console.log(&amp;#39;E&amp;#39;));\n\n   flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;F&amp;#39;));\n\n   d.fulfill();\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // A\n // B\n // C\n // D\n // E\n // F\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Even though a subtask&amp;#39;s promised result will never resolve while the task\nfunction is on the stack, it will be treated as a promise resolved within the\ntask. In all other scenarios, a task&amp;#39;s promise behaves just like a normal\npromise. In the sample below, &lt;code&gt;C/D&lt;/code&gt; is logged before &lt;code&gt;B&lt;/code&gt; because the\nresolution of &lt;code&gt;subtask1&lt;/code&gt; interrupts the flow of the enclosing task. Within\nthe final subtask, &lt;code&gt;E/F&lt;/code&gt; is logged in order because &lt;code&gt;subtask1&lt;/code&gt; is a resolved\npromise when that task runs.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function() {\n   var subtask1 &amp;#61; flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;));\n   var subtask2 &amp;#61; flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;));\n\n   subtask1.then(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n   subtask1.then(() &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;));\n\n   flow.execute(function() {\n     flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;E&amp;#39;));\n     subtask1.then(() &amp;#61;&amp;gt; console.log(&amp;#39;F&amp;#39;));\n   });\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // A\n // C\n // D\n // B\n // E\n // F\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Finally, consider the following:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var d &amp;#61; promise.defer();\n d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;));\n d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;));\n\n flow.execute(function() {\n   flow.execute(  () &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n   d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;D&amp;#39;));\n\n   flow.execute(  () &amp;#61;&amp;gt; console.log(&amp;#39;E&amp;#39;));\n   d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;F&amp;#39;));\n\n   d.fulfill();\n\n   flow.execute(  () &amp;#61;&amp;gt; console.log(&amp;#39;G&amp;#39;));\n   d.promise.then(() &amp;#61;&amp;gt; console.log(&amp;#39;H&amp;#39;));\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // A\n // B\n // C\n // D\n // E\n // F\n // G\n // H\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In this example, callbacks are registered on &lt;code&gt;d.promise&lt;/code&gt; both before and\nduring the invocation of the task function. When &lt;code&gt;d.fulfill()&lt;/code&gt; is called,\nthe callbacks registered before the task (&lt;code&gt;A&lt;/code&gt; &amp;amp; &lt;code&gt;B&lt;/code&gt;) are registered as\ninterrupts. The remaining callbacks were all attached within the task and\nare scheduled in the flow as standard tasks.&lt;/p&gt;\n&lt;h2&gt;Generator Support&lt;/h2&gt;\n&lt;p&gt;&lt;a href=\&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*\&quot;&gt;Generators&lt;/a&gt; may be scheduled as tasks within a control flow or attached\nas callbacks to a promise. Each time the generator yields a promise, the\ncontrol flow will wait for that promise to settle before executing the next\niteration of the generator. The yielded promise&amp;#39;s fulfilled value will be\npassed back into the generator:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function* () {\n   var d &amp;#61; promise.defer();\n\n   setTimeout(() &amp;#61;&amp;gt; console.log(&amp;#39;...waiting...&amp;#39;), 25);\n   setTimeout(() &amp;#61;&amp;gt; d.fulfill(123), 50);\n\n   console.log(&amp;#39;start: &amp;#39; &amp;#43; Date.now());\n\n   var value &amp;#61; yield d.promise;\n   console.log(&amp;#39;mid: %d; value &amp;#61; %d&amp;#39;, Date.now(), value);\n\n   yield promise.delayed(10);\n   console.log(&amp;#39;end: &amp;#39; &amp;#43; Date.now());\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // start: 0\n // ...waiting...\n // mid: 50; value &amp;#61; 123\n // end: 60\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Yielding the result of a promise chain will wait for the entire chain to\ncomplete:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; promise.fulfilled().then(function* () {\n   console.log(&amp;#39;start: &amp;#39; &amp;#43; Date.now());\n\n   var value &amp;#61; yield flow.\n       execute(() &amp;#61;&amp;gt; console.log(&amp;#39;A&amp;#39;)).\n       then(   () &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;)).\n       then(   () &amp;#61;&amp;gt; 123);\n\n   console.log(&amp;#39;mid: %s; value &amp;#61; %d&amp;#39;, Date.now(), value);\n\n   yield flow.execute(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n }).then(function() {\n   console.log(&amp;#39;fin&amp;#39;);\n });\n // start: 0\n // A\n // B\n // mid: 2; value &amp;#61; 123\n // C\n // fin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Yielding a &lt;em&gt;rejected&lt;/em&gt; promise will cause the rejected value to be thrown\nwithin the generator function:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function* () {\n   console.log(&amp;#39;start: &amp;#39; &amp;#43; Date.now());\n   try {\n     yield promise.delayed(10).then(function() {\n       throw Error(&amp;#39;boom&amp;#39;);\n     });\n   } catch (ex) {\n     console.log(&amp;#39;caught time: &amp;#39; &amp;#43; Date.now());\n     console.log(ex.message);\n   }\n });\n // start: 0\n // caught time: 10\n // boom\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1&gt;Error Handling&lt;/h1&gt;\n&lt;p&gt;ES6 promises do not require users to handle a promise rejections. This can\nresult in subtle bugs as the rejections are silently &amp;#34;swallowed&amp;#34; by the\nPromise class.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; Promise.reject(Error(&amp;#39;boom&amp;#39;));\n // ... *crickets* ...\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Selenium&amp;#39;s promise module, on the other hand, requires that every rejection\nbe explicitly handled. When a &lt;a href=\&quot;lib/promise_exports_Promise.html\&quot;&gt;ManagedPromise&lt;/a&gt; is\nrejected and no callbacks are defined on that promise, it is considered an\n&lt;em&gt;unhandled rejection&lt;/em&gt; and reported to the active task queue. If the rejection\nremains unhandled after a single turn of the &lt;a href=\&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\&quot;&gt;event loop&lt;/a&gt; (scheduled\nwith a microtask), it will propagate up the stack.&lt;/p&gt;\n&lt;h2&gt;Error Propagation&lt;/h2&gt;\n&lt;p&gt;If an unhandled rejection occurs within a task function, that task&amp;#39;s promised\nresult is rejected and all remaining subtasks are discarded:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function() {\n   // No callbacks registered on promise -&amp;gt; unhandled rejection\n   promise.rejected(Error(&amp;#39;boom&amp;#39;));\n   flow.execute(function() { console.log(&amp;#39;this will never run&amp;#39;); });\n }).catch(function(e) {\n   console.log(e.message);\n });\n // boom\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The promised results for discarded tasks are silently rejected with a\ncancellation error and existing callback chains will never fire.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function() {\n   promise.rejected(Error(&amp;#39;boom&amp;#39;));\n   flow.execute(function() { console.log(&amp;#39;a&amp;#39;); }).\n       then(function() { console.log(&amp;#39;b&amp;#39;); });\n }).catch(function(e) {\n   console.log(e.message);\n });\n // boom\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;An unhandled rejection takes precedence over a task function&amp;#39;s returned\nresult, even if that value is another promise:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function() {\n   promise.rejected(Error(&amp;#39;boom&amp;#39;));\n   return flow.execute(someOtherTask);\n }).catch(function(e) {\n   console.log(e.message);\n });\n // boom\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If there are multiple unhandled rejections within a task, they are packaged\nin a &lt;a href=\&quot;lib/promise_exports_MultipleUnhandledRejectionError.html\&quot;&gt;&lt;code&gt;MultipleUnhandledRejectionError&lt;/code&gt;&lt;/a&gt;, which has an &lt;code&gt;errors&lt;/code&gt; property\nthat is a &lt;code&gt;Set&lt;/code&gt; of the recorded unhandled rejections:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function() {\n   promise.rejected(Error(&amp;#39;boom1&amp;#39;));\n   promise.rejected(Error(&amp;#39;boom2&amp;#39;));\n }).catch(function(ex) {\n   console.log(ex instanceof MultipleUnhandledRejectionError);\n   for (var e of ex.errors) {\n     console.log(e.message);\n   }\n });\n // boom1\n // boom2\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When a subtask is discarded due to an unreported rejection in its parent\nframe, the existing callbacks on that task will never settle and the\ncallbacks will not be invoked. If a new callback is attached to the subtask\n&lt;em&gt;after&lt;/em&gt; it has been discarded, it is handled the same as adding a callback\nto a cancelled promise: the error-callback path is invoked. This behavior is\nintended to handle cases where the user saves a reference to a task promise,\nas illustrated below.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var subTask;\n flow.execute(function() {\n   promise.rejected(Error(&amp;#39;boom&amp;#39;));\n   subTask &amp;#61; flow.execute(function() {});\n }).catch(function(e) {\n   console.log(e.message);\n }).then(function() {\n   return subTask.then(\n       () &amp;#61;&amp;gt; console.log(&amp;#39;subtask success!&amp;#39;),\n       (e) &amp;#61;&amp;gt; console.log(&amp;#39;subtask failed:\\n&amp;#39; &amp;#43; e));\n });\n // boom\n // subtask failed:\n // DiscardedTaskError: Task was discarded due to a previous failure: boom\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When a subtask fails, its promised result is treated the same as any other\npromise: it must be handled within one turn of the rejection or the unhandled\nrejection is propagated to the parent task. This means users can catch errors\nfrom complex flows from the top level task:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; flow.execute(function() {\n   flow.execute(function() {\n     flow.execute(function() {\n       throw Error(&amp;#39;fail!&amp;#39;);\n     });\n   });\n }).catch(function(e) {\n   console.log(e.message);\n });\n // fail!\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Unhandled Rejection Events&lt;/h2&gt;\n&lt;p&gt;When an unhandled rejection propagates to the root of the control flow, the\nflow will emit an &lt;strong&gt;uncaughtException&lt;/strong&gt; event. If no listeners are registered\non the flow, the error will be rethrown to the global error handler: an\n&lt;strong&gt;uncaughtException&lt;/strong&gt; event from the\n&lt;a href=\&quot;https://nodejs.org/api/process.html\&quot;&gt;&lt;code&gt;process&lt;/code&gt;&lt;/a&gt; object in node, or\n&lt;code&gt;window.onerror&lt;/code&gt; when running in a browser.&lt;/p&gt;\n&lt;p&gt;Bottom line: you &lt;strong&gt;&lt;em&gt;must&lt;/em&gt;&lt;/strong&gt; handle rejected promises.&lt;/p&gt;\n&lt;h1&gt;Promises/A&amp;#43; Compatibility&lt;/h1&gt;\n&lt;p&gt;This &lt;code&gt;promise&lt;/code&gt; module is compliant with the &lt;a href=\&quot;https://promisesaplus.com/\&quot;&gt;Promises/A&amp;#43;&lt;/a&gt; specification\nexcept for sections &lt;code&gt;2.2.6.1&lt;/code&gt; and &lt;code&gt;2.2.6.2&lt;/code&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;ul&gt;&lt;li&gt;&lt;code&gt;then&lt;/code&gt; may be called multiple times on the same promise.\n&lt;ul&gt;&lt;li&gt;If/when &lt;code&gt;promise&lt;/code&gt; is fulfilled, all respective &lt;code&gt;onFulfilled&lt;/code&gt; callbacks\nmust execute in the order of their originating calls to &lt;code&gt;then&lt;/code&gt;.&lt;/li&gt;&lt;li&gt;If/when &lt;code&gt;promise&lt;/code&gt; is rejected, all respective &lt;code&gt;onRejected&lt;/code&gt; callbacks\nmust execute in the order of their originating calls to &lt;code&gt;then&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt;\n&lt;/li&gt;&lt;/ul&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Specifically, the conformance tests contain the following scenario (for\nbrevity, only the fulfillment version is shown):&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var p1 &amp;#61; Promise.resolve();\n p1.then(function() {\n   console.log(&amp;#39;A&amp;#39;);\n   p1.then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;));\n });\n p1.then(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n // A\n // C\n // B\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Since the &lt;a href=\&quot;#scheduling_callbacks\&quot;&gt;ControlFlow&lt;/a&gt; executes promise callbacks as\ntasks, with this module, the result would be:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var p2 &amp;#61; promise.fulfilled();\n p2.then(function() {\n   console.log(&amp;#39;A&amp;#39;);\n   p2.then(() &amp;#61;&amp;gt; console.log(&amp;#39;B&amp;#39;);\n });\n p2.then(() &amp;#61;&amp;gt; console.log(&amp;#39;C&amp;#39;));\n // A\n // B\n // C\n&lt;/code&gt;&lt;/pre&gt;\n&quot;]]],[],null,[],null,[[[&quot;all&quot;,[null,3365,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3365&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,null,null,[[[null,null,null,[&quot;T&quot;,null,null,null,[]]],[null,null,null,[&quot;Promise&quot;,&quot;selenium-webdriver/lib/promise.Promise&quot;,[null,null,[null,null,&quot;lib/promise_exports_Promise.html&quot;]],null,[]]]]]]]]]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;T&quot;,null,null,null,[]]]]]]]]]],[]],[[&quot;asap&quot;,[null,3366,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3366&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,null,1]],[&quot;arg1&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]]],[&quot;arg2&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1],[null,null,null,null,null,null,null,null,1]]]]]],null,[]],[[&quot;captureStackTrace&quot;,[null,3367,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3367&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]]],[&quot;arg1&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]]],[&quot;arg2&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1],[null,null,null,null,null,null,null,null,1]]]]]],[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]]],[]],[[&quot;checkedNodeCall&quot;,[null,3368,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3368&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;Function&quot;,null,null,null,[]]]],[&quot;arg1&quot;,[null,null,null,null,null,null,null,1]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[]]]],[]],[[&quot;consume&quot;,[null,3369,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3369&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;Function&quot;,null,null,null,[]]]],[&quot;arg1&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1],[null,null,null,null,null,null,null,null,1]]]]],[&quot;arg2&quot;,[null,null,null,null,null,null,1]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[[null,null,null,null,null,null,null,1]]]]],[]],[[&quot;controlFlow&quot;,[null,3370,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3370&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;ControlFlow&quot;,&quot;selenium-webdriver/lib/promise.ControlFlow&quot;,[null,null,[null,null,&quot;lib/promise_exports_ControlFlow.html&quot;]],null,[]]]],[]],[[&quot;createFlow&quot;,[null,3371,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3371&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,[null,null,[[null,null,null,[&quot;ControlFlow&quot;,&quot;selenium-webdriver/lib/promise.ControlFlow&quot;,[null,null,[null,null,&quot;lib/promise_exports_ControlFlow.html&quot;]],null,[]]]],[null,null,null,null,null,null,null,1]]]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[]]]],[]],[[&quot;createPromise&quot;,[null,3372,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3372&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,[null,null,[[null,null,[null,null,[[1,null,null,null,null,[[[null,null,null,[&quot;T&quot;,null,null,null,[]]],[null,null,null,[&quot;IThenable&quot;,null,null,1,[[null,null,null,[&quot;T&quot;,null,null,null,[]]]]]],[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[]]],[null,null,null,null,null,null,null,null,null,1]]]]],[null,null,null,null,null,null,null,1]]],[null,null,[null,null,[[1,null,null,null,null,null,1]],[null,null,null,null,null,null,null,1]]]],[null,null,null,null,null,null,null,1]]]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[[null,null,null,[&quot;T&quot;,null,null,null,[]]]]]]],[]],[[&quot;defer&quot;,[null,3373,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3373&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;Resolver&quot;,&quot;selenium-webdriver/lib/promise.Resolver&quot;,[null,null,[null,null,&quot;lib/promise_exports_Resolver.html&quot;]],null,[[null,null,null,[&quot;T&quot;,null,null,null,[]]]]]]],[]],[[&quot;delayed&quot;,[null,3374,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3374&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;number&quot;,null,null,1,[]]]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[]]]],[]],[[&quot;filter&quot;,[null,3375,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3375&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;TYPE&quot;,null,null,null,[]]]]]],[null,null,null,[&quot;Promise&quot;,&quot;selenium-webdriver/lib/promise.Promise&quot;,[null,null,[null,null,&quot;lib/promise_exports_Promise.html&quot;]],null,[]]]]]]],[&quot;arg1&quot;,[null,null,[null,null,[[null,null,null,[&quot;TYPE&quot;,null,null,null,[]]],[null,null,null,[&quot;number&quot;,null,null,1,[]]],[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;TYPE&quot;,null,null,null,[]]]]]]],[null,null,null,null,null,[[[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[null,null,null,[&quot;Promise&quot;,&quot;selenium-webdriver/lib/promise.Promise&quot;,[null,null,[null,null,&quot;lib/promise_exports_Promise.html&quot;]],null,[]]],[null,null,null,null,null,null,null,null,null,1]]]]]]],[&quot;arg2&quot;,[null,null,null,null,null,null,null,1]]],null,[]],[[&quot;finally&quot;,[null,3376,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3376&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;IThenable&quot;,null,null,1,[[null,null,null,null,null,null,null,1]]]]],[&quot;arg1&quot;,[null,null,[null,null,[],[null,null,null,null,null,[[[null,null,null,[&quot;R&quot;,null,null,null,[]]],[null,null,null,[&quot;IThenable&quot;,null,null,1,[[null,null,null,[&quot;R&quot;,null,null,null,[]]]]]],[null,null,null,null,null,null,null,null,null,1]]]]]]]],[null,[null,null,null,[&quot;IThenable&quot;,null,null,1,[[null,null,null,[&quot;R&quot;,null,null,null,[]]]]]]],[]],[[&quot;fulfilled&quot;,[null,3377,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3377&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,null,null,1]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[[null,null,null,[&quot;T&quot;,null,null,null,[]]]]]]],[]],[[&quot;fullyResolved&quot;,[null,3378,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3378&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,null,1]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[]]]],[]],[[&quot;isGenerator&quot;,[null,3379,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3379&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;Function&quot;,null,null,null,[]]]]],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]]],[]],[[&quot;isPromise&quot;,[null,3380,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3380&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,null,null,1]]],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]]],[]],[[&quot;map&quot;,[null,3381,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3381&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;TYPE&quot;,null,null,null,[]]]]]],[null,null,null,[&quot;Promise&quot;,&quot;selenium-webdriver/lib/promise.Promise&quot;,[null,null,[null,null,&quot;lib/promise_exports_Promise.html&quot;]],null,[]]]]]]],[&quot;arg1&quot;,[null,null,[null,null,[[null,null,null,[&quot;TYPE&quot;,null,null,null,[]]],[null,null,null,[&quot;number&quot;,null,null,1,[]]],[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;TYPE&quot;,null,null,null,[]]]]]]],[null,null,null,null,null,null,null,1]]]],[&quot;arg2&quot;,[null,null,null,null,null,null,null,1]]],null,[]],[[&quot;rejected&quot;,[null,3382,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3382&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,null,1]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[[null,null,null,null,null,null,null,1]]]]],[]],[[&quot;setDefaultFlow&quot;,[null,3383,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3383&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,[&quot;ControlFlow&quot;,&quot;selenium-webdriver/lib/promise.ControlFlow&quot;,[null,null,[null,null,&quot;lib/promise_exports_ControlFlow.html&quot;]],null,[]]]]],null,[]],[[&quot;when&quot;,[null,3384,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3384&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[[&quot;arg0&quot;,[null,null,null,null,null,null,1]],[&quot;arg1&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1],[null,null,null,null,null,null,null,null,1]]]]],[&quot;arg2&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Function&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1],[null,null,null,null,null,null,null,null,1]]]]]],[null,[null,null,null,[&quot;Thenable&quot;,&quot;selenium-webdriver/lib/promise.Thenable&quot;,[null,null,[null,null,&quot;lib/promise_exports_Thenable.html&quot;]],null,[]]]],[]]],[[[&quot;LONG_STACK_TRACES&quot;,[null,3403,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3403&quot;]],[[]],null,null,null,null,null,[],[]],[null,null,null,null,null,null,null,1]],[[&quot;USE_PROMISE_MANAGER&quot;,[null,3399,null,[null,null,&quot;lib/promise.js&quot;],[null,null,&quot;https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3399&quot;]],[[[null,&quot;&lt;p&gt;Indicates whether the promise manager is currently enabled. When disabled,\nattempting to use the &lt;code&gt;ControlFlow&lt;/code&gt; or &lt;code&gt;Promise&lt;/code&gt;\nclasses will generate an error.&lt;/p&gt;\n&lt;p&gt;The promise manager is currently enabled by default, but may be disabled\nby setting the environment variable &lt;code&gt;SELENIUM_PROMISE_MANAGER&amp;#61;0&lt;/code&gt; or by\nsetting this property to false. Setting this property will always take\nprecedence over the use of the environment variable.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[[[[null,&quot;&lt;p&gt;&lt;a href=\&quot;https://github.com/SeleniumHQ/selenium/issues/2969\&quot;&gt;https://github.com/SeleniumHQ/selenium/issues/2969&lt;/a&gt;&lt;/p&gt;\n&quot;]]]]],[null,null,null,[&quot;boolean&quot;,null,null,1,[]]]]],null,[],[],null,[],[],[],[[&quot;selenium-webdriver&quot;,null,[null,null,[null,null,&quot;index.html&quot;]],null,[]],null,null,null,1],[&quot;selenium-webdriver/lib/promise&quot;,null,[null,null,[null,null,&quot;lib/promise.html&quot;]],null,[]],&quot;index_exports_promise.html&quot;,&quot;selenium-webdriver.promise&quot;,[],[],[],[]]]]]"></main><footer><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></footer></div><script src="../../dossier.js" defer></script>